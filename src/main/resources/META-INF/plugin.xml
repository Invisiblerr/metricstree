<!--
  ~ Copyright 2020 b333vv
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<idea-plugin url="https://github.com/b333vv/metricstree">
    <id>org.b333vv.metricstree</id>
    <name>MetricsTree</name>
    <description>
        <![CDATA[
        <html>
            <p>
               MetricsTree is an IDE extension that helps you evaluate quantitative properties of java code.
               It supports the most common metric sets on project, package, class and method levels.
            </p>
            <h3>Core metrics sets</h3>
            <ul>
                <li>
                   Project level: MOOD metrics set
                </li>
                <li>
                   Package level: Robert C. Martin metrics set
                </li>
                <li>
                   Class and method levels: Chidamber-Kemerer, Lorenz-Kidd, Li-Henry and Lanza-Marinescu metrics sets
                </li>
            </ul>
            <h3>Features</h3>
            <ul>
                <li>
                    Represents metrics calculation results as a tree view
                </li>
                <li>
                    Builds trees with metrics for class open in the editor or for the entire project
                </li>
                <li>
                    Supports controlling calculated metrics values
                </li>
                <li>
                    Finds common anti-patterns such as 'god class', 'feature envy', 'brain method' etc and allows to define new ones
                </li>
                <li>
                    Displays classes distributions by their metrics values in charts
                </li>
                <li>
                    Shows class metrics values evolution based on 'git log'
                </li>
            </ul>
        </html>
      ]]>
    </description>

    <change-notes><![CDATA[
        <ul>
            <li>2020.1.5:
                <ul>
                    <li>Mechanisms for identifying and searching anti-patterns was developed.</li>
                    <li>Ability to export classes metrics (in csv format) and all levels metrics (in xml format) was added.</li>
                    <li>Several new class and methods levels metrics added.</li>
                </ul>
            </li>
        </ul>
        <ul>
            <li>2020.1.4 - Charts with class distributions by metrics values was added.</li>
        </ul>
        <ul>
            <li>2020.1.3 - Metrics tree with class distribution by metric values was added.</li>
        </ul>
        <ul>
            <li>2020.1.2 - Metrics evolution data is now embedded in the class metrics tree.</li>
        </ul>
        <ul>
            <li>2020.1.1 - Class metrics values evolution tree based on 'git log' added.</li>
        </ul>
      ]]>
    </change-notes>

    <version>2020.1.5</version>

    <vendor email="b333vv@gmail.com" url="https://github.com/b333vv">b333vv</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends>Git4Idea</depends>

    <idea-version since-build="193.1316"/>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="MetricsTree" anchor="bottom" icon="/images/metricsTree.svg"
                    factoryClass="org.b333vv.metric.ui.tool.MetricsToolWindowFactory"/>
        <applicationService serviceImplementation="org.b333vv.metric.util.MetricsUtils"/>
        <projectService serviceImplementation="org.b333vv.metric.util.MetricsService"/>
    </extensions>

    <project-components>
        <component>
            <implementation-class>org.b333vv.metric.ui.settings.ranges.BasicMetricsValidRangesSettings</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.settings.ranges.DerivativeMetricsValidRangesSettings</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.settings.composition.ClassMetricsTreeSettings</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.settings.composition.ProjectMetricsTreeSettings</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.log.MetricsConsole</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.tool.ProjectMetricsPanel</implementation-class>
        </component>
        <component>
            <implementation-class>org.b333vv.metric.ui.settings.profile.MetricProfileSettings</implementation-class>
        </component>
    </project-components>

    <actions>
        <action id="Metrics.FilterClassMetricsTree"
                class="org.b333vv.metric.actions.FilterClassMetricsTreeAction"
                text="Filter Metrics Tree"
                description="Filter metrics tree"
                icon="AllIcons.General.Filter">
        </action>
        <action id="Metrics.FilterProjectMetricsTree"
                class="org.b333vv.metric.actions.FilterProjectMetricsTreeAction"
                text="Filter Metrics Tree"
                description="Filter metrics tree"
                icon="AllIcons.General.Filter">
        </action>
        <action id="Metrics.RefreshMetricsTree"
                class="org.b333vv.metric.actions.RefreshMetricsTreeAction"
                text="Refresh Metrics Tree"
                description="Refresh metrics tree"
                icon="AllIcons.Actions.Refresh">
        </action>
        <action id="Metrics.Configure"
                class="org.b333vv.metric.actions.ConfigureProjectAction"
                text="Configure"
                description="Configure"
                icon="AllIcons.General.Settings">
        </action>

        <action id="Metrics.CalculateProjectMetrics"
                class="org.b333vv.metric.actions.CalculateProjectMetricsAction"
                text="Calculate Project Metrics"
                description="Calculate project metrics"
                icon="AllIcons.Nodes.Project">
        </action>

        <action id="Metrics.SortClassesByMetricsValues"
                class="org.b333vv.metric.actions.SortClassesByMetricsValuesAction"
                text="Sort Classes By Metrics Values"
                description="Sort classes by metrics values"
                icon="MetricsIcons.EXTREME_VALUE">
        </action>

        <action id="Metrics.Autoscroll"
                class="org.b333vv.metric.actions.SetAutoScrollableAction"
                text="Auto Scroll To Source In Editor"
                description="Auto scroll to source in editor"
                icon="AllIcons.General.AutoscrollToSource">
        </action>

        <action id="Metrics.ShowClassMetricsTree"
                class="org.b333vv.metric.actions.SetShowClassMetricsTreeAction"
                text="Show Class Metrics Tree"
                description="Show class metrics tree"
                icon="AllIcons.Actions.Show">
        </action>

        <action id="Metrics.AddClassMetricsValuesEvolution"
                class="org.b333vv.metric.actions.AddClassMetricsValuesEvolutionAction"
                text="Calculate Class Metrics Evolution"
                description="Calculate class metrics evolution"
                icon="AllIcons.Vcs.History">
        </action>

        <action id="Metrics.BuildAllMetricsDistributionChart"
                class="org.b333vv.metric.actions.BuildMetricsCategoryChartAction"
                text="Build Metrics Distribution Chart"
                description="Build metrics distribution chart"
                icon="MetricsIcons.BAR_CHART">
        </action>

        <action id="Metrics.BuildByTypeMetricsDistributionChart"
                class="org.b333vv.metric.actions.BuildMetricsPieChartAction"
                text="Build Metrics Distribution Chart By Type"
                description="Build metrics distribution chart by type"
                icon="MetricsIcons.PIE_CHART">
        </action>

        <action id="Metrics.BuildProjectMetricXYChart"
                class="org.b333vv.metric.actions.BuildProjectMetricXYChartAction"
                text="Build Abstractness By Instability Distribution"
                description="Build abstractness By instability distribution"
                icon="MetricsIcons.XY_CHART">
        </action>

        <action id="Metrics.BuildByProfileDistribution"
                class="org.b333vv.metric.actions.BuildByProfilesDistributionAction"
                text="Build Classes Distribution By Metrics Profile"
                description="Build classes distribution By metrics profile"
                icon="AllIcons.Actions.RunAll">
        </action>

        <action id="Metrics.ExportMetrics"
                class="org.b333vv.metric.actions.ExportCalculatedMetricsAction"
                text="Export Calculated Metrics To File"
                description="Export calculated metrics to file"
                icon="AllIcons.ToolbarDecorator.Export">
        </action>

        <action id="Metrics.ShowProjectMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowProjectMetrics">
        </action>
        <action id="Metrics.ShowPackageMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowPackageMetrics">
        </action>
        <action id="Metrics.ShowClassMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowClassMetrics">
        </action>
        <action id="Metrics.ShowMethodMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowMethodMetrics">
        </action>

        <action id="Metrics.ShowAllowedValueMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowAllowedValueMetrics">
        </action>
        <action id="Metrics.ShowDisallowedValueMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowDisallowedValueMetrics">
        </action>
        <action id="Metrics.ShowNotSetValueMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowNotSetValueMetrics">
        </action>
        <action id="Metrics.ShowNotApplicableMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowNotApplicableMetrics">
        </action>
        <action id="Metrics.ShowChidamberKemererMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowChidamberKemererMetrics">
        </action>
        <action id="Metrics.ShowLorenzKiddMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowLorenzKiddMetrics">
        </action>
        <action id="Metrics.ShowLiHenryMetrics"
                class="org.b333vv.metric.actions.treefilters.classtree.ShowLiHenryMetrics">
        </action>

        <action id="Metrics.ProjectTreeShowProjectMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowProjectMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowPackageMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowPackageMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowClassMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowClassMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowMethodMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowMethodMetrics">
        </action>

        <action id="Metrics.ProjectTreeShowAllowedValueMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowAllowedValueMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowDisallowedValueMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowDisallowedValueMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowNotSetValueMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowNotSetValueMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowNotApplicableMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowNotApplicableMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowChidamberKemererMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowChidamberKemererMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowLorenzKiddMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowLorenzKiddMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowLiHenryMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowLiHenryMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowRobertMartinrMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowRobertMartinMetrics">
        </action>
        <action id="Metrics.ProjectTreeShowMoodMetrics"
                class="org.b333vv.metric.actions.treefilters.projecttree.ProjectTreeShowMoodMetrics">
        </action>

        <action id="Metrics.LogConsoleClean"
                class="org.b333vv.metric.actions.CleanConsoleAction"
                text="Clear All"
                description="Clear the contents of Log"
                icon="AllIcons.Actions.GC">
        </action>

        <group id="Metrics.FilterClassMetricsTreeGroup">
            <reference id="Metrics.ShowClassMetrics"/>
            <reference id="Metrics.ShowMethodMetrics"/>
            <separator/>
            <reference id="Metrics.ShowAllowedValueMetrics"/>
            <reference id="Metrics.ShowDisallowedValueMetrics"/>
            <reference id="Metrics.ShowNotSetValueMetrics"/>
            <reference id="Metrics.ShowNotApplicableMetrics"/>
            <separator/>
            <reference id="Metrics.ShowChidamberKemererMetrics"/>
            <reference id="Metrics.ShowLorenzKiddMetrics"/>
            <reference id="Metrics.ShowLiHenryMetrics"/>
        </group>

        <group id="Metrics.FilterProjectMetricsTreeGroup">
            <reference id="Metrics.ProjectTreeShowProjectMetrics"/>
            <reference id="Metrics.ProjectTreeShowPackageMetrics"/>
            <reference id="Metrics.ProjectTreeShowClassMetrics"/>
            <reference id="Metrics.ProjectTreeShowMethodMetrics"/>
            <separator/>
            <reference id="Metrics.ProjectTreeShowAllowedValueMetrics"/>
            <reference id="Metrics.ProjectTreeShowDisallowedValueMetrics"/>
            <reference id="Metrics.ProjectTreeShowNotSetValueMetrics"/>
            <reference id="Metrics.ProjectTreeShowNotApplicableMetrics"/>
            <separator/>
            <reference id="Metrics.ProjectTreeShowMoodMetrics"/>
            <reference id="Metrics.ProjectTreeShowRobertMartinrMetrics"/>
            <reference id="Metrics.ProjectTreeShowChidamberKemererMetrics"/>
            <reference id="Metrics.ProjectTreeShowLorenzKiddMetrics"/>
            <reference id="Metrics.ProjectTreeShowLiHenryMetrics"/>
        </group>

        <group id="Metrics.ClassMetricsToolbar">
            <reference id="Metrics.FilterClassMetricsTree"/>
            <reference id="Metrics.RefreshMetricsTree"/>
            <separator/>
            <reference id="Metrics.ShowClassMetricsTree"/>
            <separator/>
            <reference id="Metrics.AddClassMetricsValuesEvolution"/>
            <separator/>
            <reference id="Metrics.Configure"/>
        </group>

        <group id="Metrics.ProjectMetricsToolbar">
            <reference id="Metrics.FilterProjectMetricsTree"/>
            <separator/>
            <reference id="Metrics.CalculateProjectMetrics"/>
            <reference id="Metrics.SortClassesByMetricsValues"/>
            <separator/>
            <reference id="Metrics.Autoscroll"/>
            <separator/>
            <reference id="Metrics.ExportMetrics"/>
            <separator/>
            <reference id="Metrics.Configure"/>
        </group>

        <group id="Metrics.MetricsChartToolbar">
            <reference id="Metrics.BuildAllMetricsDistributionChart"/>
            <reference id="Metrics.BuildByTypeMetricsDistributionChart"/>
            <reference id="Metrics.BuildProjectMetricXYChart"/>
            <separator/>
            <reference id="Metrics.Configure"/>
            <separator/>
        </group>

        <group id="Metrics.MetricsProfileToolbar">
            <reference id="Metrics.BuildByProfileDistribution"/>
            <separator/>
            <reference id="Metrics.Configure"/>
            <separator/>
        </group>

        <group id="Metrics.CleanConsole">
            <reference id="Metrics.LogConsoleClean"/>
        </group>
    </actions>
</idea-plugin>